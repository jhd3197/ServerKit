id: homeassistant
name: Home Assistant
version: "2024.1"
description: Open-source home automation platform with focus on local control and privacy
icon: https://www.home-assistant.io/images/favicon-192x192-full.png
website: https://www.home-assistant.io
documentation: https://www.home-assistant.io/docs/
categories:
  - home-automation
  - iot
  - smart-home

variables:
  - name: HTTP_PORT
    description: HTTP port
    type: port
    default: "8123"
  - name: TZ
    description: Timezone
    default: UTC

ports:
  - port: 8123
    protocol: tcp
    description: Web interface

volumes:
  - name: config
    path: /config
    description: Home Assistant configuration

compose:
  services:
    homeassistant:
      image: ghcr.io/home-assistant/home-assistant:${VERSION:-2024.1}
      container_name: ${APP_NAME}
      restart: unless-stopped
      privileged: true
      network_mode: host
      environment:
        - TZ=${TZ}
      volumes:
        - homeassistant_config:/config
        - /run/dbus:/run/dbus:ro

  volumes:
    homeassistant_config:
