id: jellyfin
name: Jellyfin
version: "10.8"
description: Free and open-source media server for streaming movies, TV shows, music, and more
icon: https://jellyfin.org/images/logo.svg
website: https://jellyfin.org
documentation: https://jellyfin.org/docs/
categories:
  - media
  - streaming
  - entertainment

variables:
  - name: HTTP_PORT
    description: HTTP port
    type: port
    default: "8096"
    hidden: true
  - name: HTTPS_PORT
    description: HTTPS port
    type: port
    default: "8920"
    hidden: true
  - name: MEDIA_PATH
    description: Path to media files on host
    default: /media
    required: true

ports:
  - port: 8096
    protocol: tcp
    description: Web interface
  - port: 8920
    protocol: tcp
    description: HTTPS web interface
  - port: 7359
    protocol: udp
    description: Client discovery

volumes:
  - name: config
    path: /config
    description: Jellyfin configuration
  - name: cache
    path: /cache
    description: Jellyfin cache

compose:
  services:
    jellyfin:
      image: jellyfin/jellyfin:${VERSION:-10.8.13}
      container_name: ${APP_NAME}
      restart: unless-stopped
      environment:
        - PUID=1000
        - PGID=1000
        - TZ=UTC
      volumes:
        - jellyfin_config:/config
        - jellyfin_cache:/cache
        - ${MEDIA_PATH}:/media:ro
      ports:
        - "${HTTP_PORT}:8096"
        - "${HTTPS_PORT}:8920"
        - "7359:7359/udp"

  volumes:
    jellyfin_config:
    jellyfin_cache:
